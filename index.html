<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#0a0a0a">
    <title>Street League</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS —Ñ–∞–π–ª—ã -->
    <link rel="stylesheet" href="./css/variables.css">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="stylesheet" href="./css/screens.css">
	<link rel="stylesheet" href="./css/profiles.css">
	<link rel="stylesheet" href="./css/hub.css">
	<link rel="stylesheet" href="./css/match-on.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=–≤–∞—à_api_–∫–ª—é—á&lang=ru_RU"></script>
</head>
<body>
    <div class="bg-pattern"></div>
    
<main id="app-container">
    <!-- Splash Screen - –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –∞–∫—Ç–∏–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ -->
    <section id="screen-splash" class="screen active">
        <div class="splash-container">
            <div class="splash-logo">STREET LEAGUE</div>
            <div class="splash-spinner"></div>
            <div class="splash-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
    </section>

    <!-- Screen: Role Selection (–ë–ï–ó –∫–ª–∞—Å—Å–∞ active) -->
    <section id="screen-role" class="screen">
            <div class="auth-container">
                <h1 class="logo">STREET LEAGUE</h1>
                <p class="subtitle">–í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—É—Ç—å</p>

                <div class="role-selector">
                    <button class="role-option active" data-role="fan" onclick="app.selectRole('fan')">
                        –ë–æ–ª–µ–ª—å—â–∏–∫
                    </button>
                    <button class="role-option pro" data-role="organizer" onclick="app.selectRole('organizer')">
                        <span class="role-badge-small">PRO</span>
                        –û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä
                    </button>
                </div>

                <div class="role-info" id="role-info-fan">
                    <div class="role-header">
                        <i class="fas fa-eye role-icon"></i>
                        <span class="role-title">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
                    </div>
                    <p class="role-desc">–°–ª–µ–¥–∏ –∑–∞ –º–∞—Ç—á–∞–º–∏ –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏</p>
                    <div class="feature-tags">
                        <span class="feature-tag">–ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ç—á–µ–π</span>
                        <span class="feature-tag">–ö–∞—Ä—Ç–∞ –ø–ª–æ—â–∞–¥–æ–∫</span>
                        <span class="feature-tag disabled">–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥</span>
                    </div>
                </div>

                <div class="role-info hidden" id="role-info-organizer" style="border-color: var(--accent-gold);">
                    <div class="role-price-tag">299 ‚ÇΩ</div>
                    <div class="role-price-period">–≤ –º–µ—Å—è—Ü</div>
                    <p class="role-desc">–°–æ–∑–¥–∞–≤–∞–π –∫–æ–º–∞–Ω–¥—ã –∏ –º–∞—Ç—á–∏</p>
                    <div class="feature-tags">
                        <span class="feature-tag gold">–í—Å—ë –∏–∑ –ë–æ–ª–µ–ª—å—â–∏–∫–∞</span>
                        <span class="feature-tag gold">–î–æ 3 –∫–æ–º–∞–Ω–¥</span>
                        <span class="feature-tag gold">–ë—Ä–æ—Å–∫–∏ –≤—ã–∑–æ–≤–∞</span>
                    </div>
                </div>

                <button class="btn btn-primary" id="continue-btn" onclick="app.goToAuth()">
                    –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                </button>
				<button class="btn btn-secondary" onclick="app.showLogin()" style="margin-top: 10px;">
    –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏
</button>
            </div>
        </section>

        <!-- Screen: Auth -->
        <section id="screen-auth" class="screen">
            <div class="auth-container">
                <button class="back-btn" onclick="app.backToRole()">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
                
                <h1 class="logo">–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø</h1>
                <p class="subtitle" id="auth-subtitle">–°–æ–∑–¥–∞–π –∞–∫–∫–∞—É–Ω—Ç</p>

                <form id="auth-form" onsubmit="event.preventDefault(); app.register();">
                    <div class="form-group">
                        <label>–ù–∏–∫–Ω–µ–π–º</label>
                        <input type="text" id="reg-nickname" placeholder="–ü—Ä–∏–¥—É–º–∞–π –Ω–∏–∫" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="reg-email" placeholder="email@example.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label>–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="reg-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required minlength="6">
                    </div>

                    <div class="form-group hidden" id="phone-field">
                        <label>–¢–µ–ª–µ—Ñ–æ–Ω <span class="hint">(–¥–ª—è –∫–∞–ø–∏—Ç–∞–Ω–æ–≤)</span></label>
                        <input type="tel" id="reg-phone" placeholder="+7 (999) 000-00-00">
                    </div>

                    <button type="submit" class="btn btn-primary" id="reg-btn">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                    <button type="submit" class="btn btn-gold hidden" id="pay-btn">
                        –û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É 299 ‚ÇΩ/–º–µ—Å
                    </button>
                </form>
            </div>
        </section>

<section id="screen-login" class="screen">
    <div class="auth-container">
        <button class="back-btn" onclick="app.backToRole()">
            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
        </button>
        
        <h1 class="logo">–í–•–û–î</h1>
        <p class="subtitle">–í–æ–π–¥–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç</p>

        <form id="login-form" onsubmit="event.preventDefault(); app.handleLogin();">
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="login-email" placeholder="email@example.com" required>
            </div>
            
            <div class="form-group">
                <label>–ü–∞—Ä–æ–ª—å</label>
                <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                <div style="text-align: right; margin-top: 5px;">
                    <a href="#" onclick="app.showForgotPassword()" style="color: var(--accent-blue); font-size: 0.8rem;">
                        –ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?
                    </a>
                </div>
            </div>

            <button type="submit" class="btn btn-primary" id="login-btn">
                –í–æ–π—Ç–∏
            </button>
            
            <div style="text-align: center; margin-top: 20px;">
                <span style="color: var(--text-secondary); font-size: 0.9rem;">
                    –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? 
                </span>
                <a href="#" onclick="app.goToAuth()" style="color: var(--accent-green); font-weight: 500;">
                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                </a>
            </div>
        </form>
    </div>
</section>

        <!-- Screen: City -->
        <section id="screen-city" class="screen">
            <div class="auth-container">
                <h1 class="logo">–í–´–ë–ï–†–ò –ì–û–†–û–î</h1>
                <p class="subtitle">–ì–¥–µ —Ç—ã –∏–≥—Ä–∞–µ—à—å?</p>
                <div class="city-grid" id="city-list"></div>
            </div>
        </section>

        <!-- Screen: Main -->
<section id="screen-main" class="screen">
    <header class="header">
        <div class="header-top-row">
            <button class="city-selector" onclick="app.showCitySelection()">
                <i class="fas fa-map-marker-alt"></i>
                <span id="current-city-name">–ì–æ—Ä–æ–¥</span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <h2 class="page-title">–ú–∞—Ç—á–∏</h2>
        </div>
    </header>

    <div id="paywall-banner" class="paywall-banner hidden">
        <div class="paywall-text">
            <div class="paywall-title">–ü–æ–¥–ø–∏—Å–∫–∞ PRO –∏—Å—Ç–µ–∫–ª–∞</div>
            <div class="paywall-subtitle">–í–æ–∑–æ–±–Ω–æ–≤–∏ –¥–æ—Å—Ç—É–ø</div>
        </div>
        <button class="paywall-btn" onclick="app.showPayment()">299 ‚ÇΩ</button>
    </div>

    <!-- –£–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ä—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ "–ú–∞—Ç—á–∏" -->
    <!-- <h2 class="section-title">–ú–∞—Ç—á–∏</h2> -->

    <div class="filters">
        <button class="filter-btn active" onclick="app.filterSport('all')">–í—Å–µ</button>
        <button class="filter-btn" onclick="app.filterSport('football')">–§—É—Ç–±–æ–ª</button>
        <button class="filter-btn" onclick="app.filterSport('volleyball')">–í–æ–ª–µ–π–±–æ–ª</button>
        <button class="filter-btn" onclick="app.filterSport('basketball')">–ë–∞—Å–∫–µ—Ç–±–æ–ª</button>
        <button class="filter-btn" onclick="app.filterSport('hockey')">–•–æ–∫–∫–µ–π</button>
        <button class="filter-btn" onclick="app.filterSport('tabletennis')">–ù–∞—Å—Ç–æ–ª—å–Ω—ã–π —Ç–µ–Ω–Ω–∏—Å</button>
    </div>

    <div class="matches-list" id="matches-list"></div>
</section>

        <!-- Screen: Hub -->
        <section id="screen-hub" class="screen">
    <header class="header">
        <div class="header-top-row">
            <h2 class="page-title">–•–∞–± —Å–æ–±—ã—Ç–∏–π</h2>
                  <!--  <button class="user-avatar" onclick="app.showProfile()">
                        <i class="fas fa-user"></i>
                    </button> -->
                 </div>
    </header>

                <div class="hub-filters">
                    <button class="hub-filter active" onclick="app.filterHub('all')">–í—Å—ë</button>
                    <button class="hub-filter" onclick="app.filterHub('events')">–°–æ–±—ã—Ç–∏—è</button>
                    <button class="hub-filter" onclick="app.filterHub('matches')">–ú–∞—Ç—á–∏</button>
                    <button class="hub-filter" onclick="app.filterHub('training')">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</button>
                </div>

                <div class="hub-section">
                    <h3 class="hub-section-title">
                        <i class="fas fa-fire"></i>
                        –ë–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è
                    </h3>
                    <div id="hub-events-list" class="hub-list"></div>
                </div>
<div class="hub-section">
    <h3 class="hub-section-title">
        <i class="fas fa-history"></i>
        –°–≤–æ–¥–∫–∞ –∑–∞ –º–µ—Å—è—Ü
    </h3>
    <div id="hub-summary-list" class="hub-list"></div>
</div>
                <div class="hub-section">
                    <h3 class="hub-section-title">
                        <i class="fas fa-calendar-week"></i>
                        –ú–∞—Ç—á–∏ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ
                    </h3>
                    <div id="hub-matches-list" class="hub-list"></div>
                </div>

<div class="hub-section">
    <h3 class="hub-section-title">
        <i class="fas fa-trophy"></i>
        –¢–æ–ø –∫–æ–º–∞–Ω–¥ –≥–æ—Ä–æ–¥–∞
    </h3>
    <div id="hub-top-teams-list" class="hub-list"></div>
    <button id="show-more-teams-btn" class="btn-show-more hidden" onclick="eventsModule.showMoreTopTeams()">
        –ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë
    </button>
</div>

                <div class="hub-section">
                    <h3 class="hub-section-title">
                        <i class="fas fa-star"></i>
                        –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º
                    </h3>
                    <div id="hub-recommended-list" class="hub-list"></div>
                </div>
            </div>
        </section>



        <!-- Screen: Teams -->
        <section id="screen-teams" class="screen">
    <header class="header">
        <div class="header-top-row">
            <h2 class="page-title">–ú–æ–∏ –∫–æ–º–∞–Ω–¥—ã</h2>
                 <!--   <button class="user-avatar" onclick="app.showProfile()">
                        <i class="fas fa-user"></i>
                    </button> -->
                             </div>
    </header>

                <div class="teams-list" id="teams-list"></div>
                <button class="btn btn-primary" onclick="app.showCreateTeam()" style="margin-top: 20px;">
                    <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É
                </button>
            </div>
        </section>

        <section id="screen-create-team" class="screen">
    <div class="container">
        <button class="back-btn" onclick="app.showTeams()">
            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
        </button>
        <h2 class="section-title">–ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞</h2>
        
        <form class="form-section" id="create-team-form" onsubmit="event.preventDefault(); teamsModule.createTeam();">
            <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ -->
            <div class="form-group">
                <label>–õ–æ–≥–æ—Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã</label>
                <div class="logo-upload-area" id="logo-upload-area" onclick="document.getElementById('team-logo-input').click()">
                    <input type="file" id="team-logo-input" accept="image/*" style="display: none;" onchange="teamsModule.handleLogoPreview(event)">
                    <div class="logo-preview" id="logo-preview">
                        <i class="fas fa-camera"></i>
                        <span>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏</span>
                        <small>PNG, JPG –¥–æ 5MB</small>
                    </div>
                    <button type="button" class="logo-remove-btn hidden" id="logo-remove-btn" onclick="event.stopPropagation(); teamsModule.removeLogo()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã *</label>
                <input type="text" id="team-name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î—Ä–∞–∫–æ–Ω—ã" required maxlength="50">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>–ì–æ—Ä–æ–¥ *</label>
                    <select id="team-city" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–í–∏–¥ —Å–ø–æ—Ä—Ç–∞ *</label>
                    <select id="team-sport" required>
                        <option value="football">–§—É—Ç–±–æ–ª</option>
                        <option value="volleyball">–í–æ–ª–µ–π–±–æ–ª</option>
                        <option value="basketball">–ë–∞—Å–∫–µ—Ç–±–æ–ª</option>
                        <option value="hockey">–•–æ–∫–∫–µ–π</option>
                        <option value="tabletennis">–ù–∞—Å—Ç–æ–ª—å–Ω—ã–π —Ç–µ–Ω–Ω–∏—Å</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã</label>
                <textarea id="team-description" rows="3" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –∫–æ–º–∞–Ω–¥–µ, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö, —Å—Ç–∏–ª–µ –∏–≥—Ä—ã..." maxlength="500"></textarea>
                <small class="char-counter" id="desc-counter">0 / 500</small>
            </div>

            <button type="submit" class="btn btn-primary" id="create-team-submit">
                <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É
            </button>
        </form>
    </div>
</section>

        <!-- Screen: Create Match Wizard (–Ω–æ–≤—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥) -->
<section id="screen-create-match-wizard" class="screen">
    <div class="wizard-container">
        <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
        <div class="wizard-progress">
            <div class="progress-track">
                <div class="progress-fill" id="wizard-progress-fill" style="width: 33%"></div>
            </div>
            <div class="progress-steps">
                <span class="step-dot active" data-step="1">1</span>
                <span class="step-dot" data-step="2">2</span>
                <span class="step-dot" data-step="3">3</span>
                <span class="step-dot" data-step="4">4</span>
            </div>
            <div class="step-labels">
                <span class="active">–ö–æ–º–∞–Ω–¥–∞</span>
                <span>–§–æ—Ä–º–∞—Ç</span>
                <span>–°–æ—Å—Ç–∞–≤</span>
                <span>–î–µ—Ç–∞–ª–∏</span>
            </div>
        </div>

        <!-- –®–∞–≥ 1: –í—ã–±–æ—Ä –∫–æ–º–∞–Ω–¥—ã -->
        <div class="wizard-step active" id="step-1">
            <div class="step-header">
                <h2 class="step-title">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É</h2>
                <p class="step-subtitle">–ö–∞–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ –±—É–¥–µ—Ç –∏–≥—Ä–∞—Ç—å?</p>
            </div>
            
            <div class="teams-selection-grid" id="wizard-teams-grid">
                <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                <div class="loading-skeleton">
                    <div class="skeleton-card"></div>
                    <div class="skeleton-card"></div>
                </div>
            </div>
            
            <div class="empty-state hidden" id="no-teams-state">
                <div class="empty-icon">‚öΩ</div>
                <h3>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∫–æ–º–∞–Ω–¥</h3>
                <p>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–∞—Ç—á–∏</p>
                <button class="btn btn-primary" onclick="navigationModule.showCreateTeam()">
                    <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É
                </button>
            </div>
        </div>

        <!-- –®–∞–≥ 2: –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ -->
        <div class="wizard-step" id="step-2">
            <div class="step-header">
                <h2 class="step-title">–§–æ—Ä–º–∞—Ç –∏–≥—Ä—ã</h2>
                <p class="step-subtitle" id="format-sport-subtitle">–§—É—Ç–±–æ–ª</p>
            </div>
            
            <div class="format-cards-grid" id="format-cards">
                <!-- –§–æ—Ä–º–∞—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø–æ —Å–ø–æ—Ä—Ç—É -->
            </div>
            
            <div class="format-hint" id="format-hint">
                <i class="fas fa-lightbulb"></i>
                <span>5 –Ω–∞ 5 ‚Äî —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –º–∏–Ω–∏-—Ñ—É—Ç–±–æ–ª–∞</span>
            </div>
        </div>

        <!-- –®–∞–≥ 3: –í—ã–±–æ—Ä —Å–æ—Å—Ç–∞–≤–∞ (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ UI) -->
        <div class="wizard-step" id="step-3">
            <div class="step-header compact">
                <h2 class="step-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Å—Ç–∞–≤</h2>
                <div class="roster-progress-mini">
                    <span id="roster-selected-count">...</span> –∏–∑ <span id="roster-required-count">...</span>
                </div>
            </div>
            
            <!-- –°—é–¥–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ç–≤–æ–π —Ç–µ–∫—É—â–∏–π UI –∏–∑ match-roster.js -->
            <div id="wizard-roster-container" class="wizard-roster-wrapper">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ matchRosterModule -->
            </div>
        </div>

        <!-- –®–∞–≥ 4: –î–µ—Ç–∞–ª–∏ –º–∞—Ç—á–∞ -->
        <div class="wizard-step" id="step-4">
            <div class="step-header">
                <h2 class="step-title">–î–µ—Ç–∞–ª–∏ –º–∞—Ç—á–∞</h2>
                <p class="step-subtitle">–ö–æ–≥–¥–∞ –∏ –≥–¥–µ —Å–æ—Å—Ç–æ–∏—Ç—Å—è –∏–≥—Ä–∞?</p>
            </div>
            
            <!-- –†–µ–∂–∏–º –º–∞—Ç—á–∞ -->
            <div class="match-mode-selector">
                <h3 class="section-label">–†–µ–∂–∏–º –º–∞—Ç—á–∞</h3>
                <div class="mode-cards">
                    <button type="button" class="mode-card active" data-mode="open" onclick="matchWizardModule.setMatchMode('open')">
                        <div class="mode-icon open">
                            <i class="fas fa-globe"></i>
                        </div>
                        <div class="mode-info">
                            <span class="mode-title">–û—Ç–∫—Ä—ã—Ç—ã–π –º–∞—Ç—á</span>
                            <span class="mode-desc">–õ—é–±–∞—è –∫–æ–º–∞–Ω–¥–∞ –º–æ–∂–µ—Ç –±—Ä–æ—Å–∏—Ç—å –≤—ã–∑–æ–≤</span>
                        </div>
                        <i class="fas fa-check-circle mode-check"></i>
                    </button>
                    
                    <button type="button" class="mode-card" data-mode="private" onclick="matchWizardModule.setMatchMode('private')">
                        <div class="mode-icon private">
                            <i class="fas fa-lock"></i>
                        </div>
                        <div class="mode-info">
                            <span class="mode-title">–ü—Ä–∏–≤–∞—Ç–Ω—ã–π</span>
                            <span class="mode-desc">–¢–æ–ª—å–∫–æ –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—é</span>
                        </div>
                        <i class="fas fa-check-circle mode-check"></i>
                    </button>
                </div>
            </div>

            <!-- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è -->
            <div class="datetime-section">
                <h3 class="section-label">–ö–æ–≥–¥–∞?</h3>
                <div class="datetime-picker-modern">
                    <div class="date-input-wrapper">
                        <i class="fas fa-calendar"></i>
                        <input type="date" id="wizard-match-date" required>
                    </div>
                    <div class="time-input-wrapper">
                        <i class="fas fa-clock"></i>
                        <input type="time" id="wizard-match-time" required>
                    </div>
                </div>
                
            </div>

            <!-- –õ–æ–∫–∞—Ü–∏—è -->
            <div class="location-section">
                <h3 class="section-label">–ì–¥–µ?</h3>
                <div class="location-input-modern" onclick="matchWizardModule.openLocationPicker()">
                    <div class="location-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="location-text" id="wizard-location-text">
                        <span class="placeholder">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –∫–∞—Ä—Ç–µ</span>
                    </div>
                    <div class="location-chevron">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                <div class="location-preview-mini hidden" id="wizard-location-preview">
                    <div class="map-thumb" id="wizard-map-thumb"></div>
                    <button type="button" class="btn-change-location" onclick="matchWizardModule.openLocationPicker()">
                        –ò–∑–º–µ–Ω–∏—Ç—å
                    </button>
                </div>
            </div>

            <!-- –ò—Ç–æ–≥–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ -->
            <div class="match-summary-card" id="match-summary">
                <h4>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª–∏</h4>
                <div class="summary-row">
                    <span class="summary-label">–ö–æ–º–∞–Ω–¥–∞:</span>
                    <span class="summary-value" id="summary-team">-</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">–§–æ—Ä–º–∞—Ç:</span>
                    <span class="summary-value" id="summary-format">-</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">–°–æ—Å—Ç–∞–≤:</span>
                    <span class="summary-value" id="summary-roster">- –∏–≥—Ä–æ–∫–æ–≤</span>
                </div>
                <div class="summary-row">
                    <span class="summary-label">–ö–æ–≥–¥–∞:</span>
                    <span class="summary-value" id="summary-datetime">-</span>
                </div>
            </div>
			
			<div class="step4-controls-footer">
    <button class="step4-next-btn" id="step4-next-btn" onclick="matchWizardModule.createMatch()" disabled>
        <span>–°–æ–∑–¥–∞—Ç—å –º–∞—Ç—á</span>
        <i class="fas fa-check"></i>
    </button>
</div>
        </div>

        
    </div>
</section>

        <!-- Screen: Match Detail -->
        <section id="screen-match" class="screen">
            <div class="container">
                <button class="back-btn" onclick="app.showMain()">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>

                <div id="match-detail-content"></div>
                <div id="map" class="map-container"></div>
                <div id="challenges-section" class="challenges-section hidden"></div>
                <div id="match-reactions" class="match-reactions"></div>
                
                <div id="challenge-section" class="challenge-section hidden">
                    <button class="btn btn-challenge" onclick="app.challengeTeam()">
                        <i class="fas fa-fire"></i> –ë—Ä–æ—Å–∏—Ç—å –≤—ã–∑–æ–≤
                    </button>
                </div>

                <div class="comments-section">
                    <h3 class="section-subtitle">
                        –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ 
                        <span id="comments-count" class="count-badge">0</span>
                    </h3>
                    
                    <div id="comments-list" class="comments-list">
                    </div>

                   <div class="comment-input-area">
    <div class="comment-input-wrapper">
        <input type="text" 
               id="comment-input" 
               placeholder="–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..." 
               maxlength="200"
               onkeypress="if(event.key === 'Enter') app.addComment(app.selectedMatch.id, this.value)">
        <button class="send-btn" onclick="app.addComment(app.selectedMatch.id, document.getElementById('comment-input').value)">
            <i class="fas fa-paper-plane"></i>
        </button>
    </div>
</div>
                </div>
            </div>
        </section>

        <!-- Screen: Profile -->
       <section id="screen-profile" class="screen">
    <div class="container">
        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –Ω–æ –Ω–µ –≤ —à–∞–ø–∫–µ –ø—Ä–æ—Ñ–∏–ª—è -->
        
        
        <!-- –®–∞–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –ë–ï–ó –∫–Ω–æ–ø–∫–∏ –Ω–∞–∑–∞–¥ -->
        <div class="profile-header-modern">
            <div class="profile-avatar-section">
                <div class="profile-avatar-large" id="profile-avatar-large">
    <img id="profile-avatar-img" class="hidden" src="" alt="–ê–≤–∞—Ç–∞—Ä">
    <span id="profile-avatar-text">U</span>
    <div class="profile-status-dot"></div>
    <div class="pro-badge-large hidden" id="profile-pro-badge-large">PRO</div>
</div>
                
                <div class="profile-info-main">
                    <h1 id="profile-name-modern" class="profile-name-modern">User Name</h1>
                    
                    <div class="profile-meta">
                        <span id="profile-role-modern" class="profile-role-modern">–ë–æ–ª–µ–ª—å—â–∏–∫</span>
                        <span id="profile-city-modern">
                            <i class="fas fa-map-marker-alt" style="font-size: 0.7rem;"></i> –ú–æ—Å–∫–≤–∞
                        </span>
                    </div>
                    
                    <div class="profile-stats">
                        <div class="stat-item">
                            <div class="stat-number" id="profile-matches-count">0</div>
                            <div class="stat-label">–ú–∞—Ç—á–µ–π</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="profile-teams-count">0</div>
                            <div class="stat-label">–ö–æ–º–∞–Ω–¥</div>
                        </div>
                        
                    </div>
                </div>
                
                <button class="profile-edit-btn" onclick="profileModule.showEditProfile()">
                    <i class="fas fa-edit"></i>
                </button>
            </div>
        </div>

        <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
        <div class="quick-actions">
            <button class="quick-action-btn2" onclick="app.showPayment()">
                <div class="quick-action-icon premium">
                    <i class="fas fa-crown"></i>
                </div>
                <span class="quick-action-text">PRO —Å—Ç–∞—Ç—É—Å</span>
            </button>
            
            <button class="quick-action-btn2" onclick="navigationModule.showInvitations()">
                <div class="quick-action-icon notifications">
                    <i class="fas fa-bell"></i>
                    <span class="badge-count hidden" id="invitations-badge">0</span>
                </div>
                <span class="quick-action-text">–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</span>
            </button>
            
            <button class="quick-action-btn2" onclick="app.showSettings()">
                <div class="quick-action-icon settings">
                    <i class="fas fa-cog"></i>
                </div>
                <span class="quick-action-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
            </button>
        </div>
<!-- –ë–ª–æ–∫ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
<div class="profile-stats-section" id="profile-stats-section">
    <h3 class="stats-section-title">
        <i class="fas fa-chart-bar"></i>
        –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    </h3>
    <div id="profile-stats-content" class="stats-content">
        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ -->
    </div>
</div>
        <!-- –ù–û–í–ê–Ø –í–ï–†–°–ò–Ø: –û —Å–µ–±–µ (—Å—Ç–∏–ª—å —Å–æ—Ü.—Å–µ—Ç–µ–π) -->
<div class="profile-about-section" id="personal-info-card">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏ -->
    <div class="about-header">
        <h3 class="about-title">–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
    </div>
    
	
	
    <!-- 1. –ò–ù–§–û-–ë–ï–ô–î–ñ–ò –í –†–Ø–î (–§–ò–û, –≤–æ–∑—Ä–∞—Å—Ç, –ø–æ–ª) -->
    <div class="about-badges">
        <div class="about-badge hidden" id="profile-full-name-badge">
            <i class="fas fa-user"></i>
            <span id="profile-full-name-value-modern">–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω</span>
        </div>
        
        <div class="about-badge hidden" id="profile-age-badge">
            <i class="fas fa-birthday-cake"></i>
            <span id="profile-age-value-modern">25 –ª–µ—Ç</span>
        </div>
        
        <div class="about-badge hidden" id="profile-gender-badge">
            <i class="fas fa-venus-mars"></i>
            <span id="profile-gender-value-modern">–ú—É–∂—Å–∫–æ–π</span>
        </div>
    </div>
    
    <!-- 2. –°–°–´–õ–ö–ò –ù–ê –°–û–¶–°–ï–¢–ò -->
    <div class="about-socials">
        <a href="#" target="_blank" class="social-link hidden" id="profile-vk-link">
            <div class="social-icon vk">
                <i class="fab fa-vk"></i>
            </div>
            <span class="social-label">–í–ö–æ–Ω—Ç–∞–∫—Ç–µ</span>
        </a>
        
        
    </div>
    
    <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
    <div class="about-divider"></div>
    
    <!-- 3. –ë–ò–û–ì–†–ê–§–ò–Ø - –í –°–ê–ú–û–ú –ù–ò–ó–£ -->
    <div class="about-bio" id="profile-bio-container">
        <div class="bio-header">
            <i class="fas fa-quote-left"></i>
            <span>–û —Å–µ–±–µ</span>
        </div>
        <p class="bio-text" id="profile-bio-value-modern">
            –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–∏—Ö —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö
        </p>
    </div>
    
    <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∫–æ–≥–¥–∞ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö) -->
    <div class="about-empty hidden" id="about-empty-state">
        <i class="fas fa-user-slash"></i>
        <span>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞</span>
    </div>
</div>

        <!-- –ú–æ–∏ –∫–æ–º–∞–Ω–¥—ã (–µ—Å–ª–∏ –µ—Å—Ç—å) -->
        <div class="card-section hidden" id="my-teams-card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-users"></i>
                    –ú–æ–∏ –∫–æ–º–∞–Ω–¥—ã
                </h3>
                <button class="card-action-btn" onclick="app.showTeams()">
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
            <div class="teams-scroll" id="profile-teams-list">
                <!-- –ö–æ–º–∞–Ω–¥—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è -->
        <div class="card-section" id="invitations-card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-envelope"></i>
                    –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
                    <span class="badge-pill hidden" id="invitations-count-badge">0</span>
                </h3>
            </div>
            <div id="invitations-list-modern" class="invitations-list-modern">
                <!-- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- –ü–æ–¥–ø–∏—Å–∫–∞ PRO -->
        <div class="card-section premium-card hidden" id="subscription-card-modern">
            <div class="premium-header">
                <div class="premium-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <div class="premium-info">
                    <h3 class="premium-title">PRO –ø–æ–¥–ø–∏—Å–∫–∞</h3>
                    <div class="premium-status" id="sub-status-modern">–ê–∫—Ç–∏–≤–Ω–∞</div>
                </div>
            </div>
            
            <div class="premium-details">
                <div class="premium-detail">
                    <i class="fas fa-check-circle"></i>
                    <span>–î–æ <span id="sub-date-modern">31.12.2024</span></span>
                </div>
                <div class="premium-detail">
                    <i class="fas fa-users"></i>
                    <span>–î–æ 3 –∫–æ–º–∞–Ω–¥</span>
                </div>
                <div class="premium-detail">
                    <i class="fas fa-fire"></i>
                    <span>–ë—Ä–æ—Å–∫–∏ –≤—ã–∑–æ–≤–∞</span>
                </div>
            </div>
            
            <button class="btn btn-premium" onclick="app.showPayment()">
                <i class="fas fa-sync-alt"></i> –ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
            </button>
        </div>

        <!-- –û–±—ã—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ (–¥–ª—è –±–æ–ª–µ–ª—å—â–∏–∫–æ–≤) -->
        <div class="card-section free-card hidden" id="free-subscription-card">
            <div class="free-header">
                <div class="free-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="free-info">
                    <h3 class="free-title">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç</h3>
                    <div class="free-status">–ë–∞–∑–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</div>
                </div>
            </div>
            
            <div class="free-details">
                <div class="free-detail">
                    <i class="fas fa-eye"></i>
                    <span>–ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ç—á–µ–π</span>
                </div>
                <div class="free-detail">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>–ö–∞—Ä—Ç–∞ –ø–ª–æ—â–∞–¥–æ–∫</span>
                </div>
                <div class="free-detail">
                    <i class="fas fa-comments"></i>
                    <span>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</span>
                </div>
            </div>
            
            <button class="btn btn-upgrade" onclick="app.showPayment()">
                <i class="fas fa-arrow-up"></i> –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ PRO
            </button>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ -->
        <div class="logout-section">
            <button class="btn btn-logout" onclick="app.logout()">
                <i class="fas fa-sign-out-alt"></i>
                –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
            </button>
        </div>
    </div>
</section>

<!-- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è -->
<section id="screen-profile-edit" class="screen">
    <div class="container">
        <!-- –®–∞–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div class="edit-header-modern">
            <button class="back-btn" onclick="profileModule.backToProfile()">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h1 class="edit-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</h1>
            <!-- –£–ë–†–ê–ù–ê –∫–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —à–∞–ø–∫–µ -->
        </div>

        <!-- –ê–≤–∞—Ç–∞—Ä -->
        <div class="avatar-edit-section">
    <div class="avatar-edit-container">
        <div class="avatar-preview-large" id="edit-avatar-preview" onclick="profileModule.openAvatarPicker()">
            <img id="edit-avatar-img" class="hidden" src="" alt="–ê–≤–∞—Ç–∞—Ä">
            <span id="edit-avatar-text">U</span>
           
        </div>
        <div class="avatar-hint">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ</div>
        <input type="file" id="avatar-upload-input" accept="image/*" style="display: none;" 
               onchange="profileModule.handleAvatarUpload(event)">
    </div>
</div>

        <!-- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <form id="profile-edit-form-modern" class="edit-form-modern" onsubmit="event.preventDefault(); profileModule.saveProfileModern();">
            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="form-section-modern">
                <h3 class="form-section-title">
                    <i class="fas fa-user-edit"></i>
                    –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                </h3>
                
                <div class="form-group-modern">
                    <label class="form-label">
                        <i class="fas fa-user-tag"></i>
                        –ù–∏–∫–Ω–µ–π–º
                    </label>
                    <input type="text" 
                           id="edit-nickname" 
                           class="form-input-modern"
                           placeholder="–í–∞—à –Ω–∏–∫–Ω–µ–π–º"
                           maxlength="30">
                </div>
                
                <div class="form-row-modern">
                    <div class="form-group-modern">
                        <label class="form-label">
                            <i class="fas fa-user"></i>
                            –§–ò–û
                        </label>
                        <input type="text" 
                               id="edit-full-name-modern" 
                               class="form-input-modern"
                               placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á"
                               maxlength="100">
                    </div>
                    
                    <div class="form-group-modern">
                        <label class="form-label">
                            <i class="fas fa-birthday-cake"></i>
                            –í–æ–∑—Ä–∞—Å—Ç
                        </label>
                        <input type="number" 
                               id="edit-age-modern" 
                               class="form-input-modern"
                               placeholder="25"
                               min="1" max="120">
                    </div>
                </div>
                
                <div class="form-group-modern">
                    <label class="form-label">
                        <i class="fas fa-venus-mars"></i>
                        –ü–æ–ª
                    </label>
                    <div class="gender-selector">
                        <label class="gender-option">
                            <input type="radio" name="gender" value="male" id="edit-gender-male">
                            <span class="gender-label">
                                <i class="fas fa-mars"></i>
                                –ú—É–∂—Å–∫–æ–π
                            </span>
                        </label>
                        <label class="gender-option">
                            <input type="radio" name="gender" value="female" id="edit-gender-female">
                            <span class="gender-label">
                                <i class="fas fa-venus"></i>
                                –ñ–µ–Ω—Å–∫–∏–π
                            </span>
                        </label>
                        <label class="gender-option">
                            <input type="radio" name="gender" value="not_set" id="edit-gender-not-set" checked>
                            <span class="gender-label">
                                <i class="fas fa-question-circle"></i>
                                –ù–µ —É–∫–∞–∑—ã–≤–∞—Ç—å
                            </span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
            <div class="form-section-modern">
                <h3 class="form-section-title">
                    <i class="fas fa-address-book"></i>
                    –ö–æ–Ω—Ç–∞–∫—Ç—ã
                </h3>
                
                <div class="form-group-modern">
                    <label class="form-label">
                        <i class="fas fa-envelope"></i>
                        Email
                    </label>
                    <input type="email" 
                           id="edit-email" 
                           class="form-input-modern"
                           placeholder="email@example.com"
                           readonly>
                    <div class="form-hint">Email –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å</div>
                </div>
                
                <div class="form-group-modern">
                    <label class="form-label">
                        <i class="fab fa-vk"></i>
                        –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
                    </label>
                    <input type="url" 
                           id="edit-vk-url-modern" 
                           class="form-input-modern"
                           placeholder="https://vk.com/username">
                    <div class="form-hint">–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å –í–ö</div>
                </div>
                
                
            </div>

            <!-- –û —Å–µ–±–µ -->
            <div class="form-section-modern">
                <h3 class="form-section-title">
                    <i class="fas fa-info-circle"></i>
                    –û —Å–µ–±–µ
                </h3>
                
                <div class="form-group-modern">
                    <label class="form-label">
                        <i class="fas fa-comment-alt"></i>
                        –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                        <span class="char-counter" id="bio-counter-modern">0/500</span>
                    </label>
                    <textarea 
                        id="edit-bio-modern" 
                        class="form-textarea-modern"
                        rows="4"
                        placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–∏—Ö —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö, –ª—é–±–∏–º—ã—Ö –≤–∏–¥–∞—Ö —Å–ø–æ—Ä—Ç–∞..."
                        maxlength="500"></textarea>
                    <div class="form-hint">–ú–∞–∫—Å–∏–º—É–º 500 —Å–∏–º–≤–æ–ª–æ–≤</div>
                </div>
            </div>

            <!-- –ì–æ—Ä–æ–¥ -->
            <div class="form-section-modern">
                <h3 class="form-section-title">
                    <i class="fas fa-map-marker-alt"></i>
                    –õ–æ–∫–∞—Ü–∏—è
                </h3>
                
                <div class="form-group-modern">
                    <label class="form-label">
                        <i class="fas fa-city"></i>
                        –ì–æ—Ä–æ–¥
                    </label>
                    <div class="city-selector-modern">
                        <select id="edit-city" class="form-select-modern">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</option>
                            <option value="obninsk">–û–±–Ω–∏–Ω—Å–∫</option>
                            <option value="moscow">–ú–æ—Å–∫–≤–∞</option>
                            <option value="spb">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                            <option value="kazan">–ö–∞–∑–∞–Ω—å</option>
                        </select>
                        <i class="fas fa-chevron-down selector-arrow"></i>
                    </div>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è) -->
            <div class="save-section">
                <button type="submit" class="btn btn-save-large">
                    <i class="fas fa-save"></i>
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                </button>
                
                <button type="button" class="btn btn-cancel" onclick="profileModule.backToProfile()">
                    <i class="fas fa-times"></i>
                    –û—Ç–º–µ–Ω–∞
                </button>
            </div>
        </form>
    </div>
</section>

        <!-- Payment Modal -->
        <div id="payment-modal" class="modal-overlay" onclick="if(event.target === this) app.closePayment()">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">–û–ø–ª–∞—Ç–∞</h3>
                    <button class="close-btn" onclick="app.closePayment()">&times;</button>
                </div>
                <div class="price-block">
                    <div class="price-tag">299 ‚ÇΩ</div>
                    <div class="price-period">–≤ –º–µ—Å—è—Ü</div>
                </div>
                <form onsubmit="event.preventDefault(); app.processPayment();">
                    <div class="form-group">
                        <label>–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã</label>
                        <input type="text" placeholder="0000 0000 0000 0000" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–°—Ä–æ–∫</label>
                            <input type="text" placeholder="MM/YY" required>
                        </div>
                        <div class="form-group">
                            <label>CVC</label>
                            <input type="text" placeholder="123" required>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-gold">–û–ø–ª–∞—Ç–∏—Ç—å</button>
                </form>
                <p class="demo-hint">–î–µ–º–æ-—Ä–µ–∂–∏–º</p>
            </div>
        </div>
        
		
		
         <!-- Screen: Team Profile -->
         <section id="screen-team" class="screen">
            <div class="container">
                <button class="back-btn" onclick="teamModule.back()">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>

                <div class="team-profile-header">
                    <div class="team-profile-avatar" id="team-profile-avatar">üê≤</div>
                    <h2 class="team-profile-name" id="team-profile-name">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã</h2>
                    <p class="team-profile-city" id="team-profile-city">–ì–æ—Ä–æ–¥ ‚Ä¢ –í–∏–¥ —Å–ø–æ—Ä—Ç–∞</p>
                    
                    <div class="team-actions" id="team-actions">
                        <button class="btn btn-challenge" onclick="teamModule.challenge()">
                            <i class="fas fa-fire"></i> –ë—Ä–æ—Å–∏—Ç—å –≤—ã–∑–æ–≤
                        </button>
                    </div>
                </div>




                 <!-- ELO —Ä–µ–π—Ç–∏–Ω–≥ (–Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É) -->
        <div class="elo-rating-full" id="team-elo-rating"></div>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã -->
        <div class="team-stats-grid">
            <div class="stat-box">
                <div class="stat-number" id="team-stat-wins">0</div>
                <div class="stat-label">–ü–æ–±–µ–¥—ã</div>
            </div>
            <div class="stat-box">
                <div class="stat-number loss" id="team-stat-losses">0</div>
                <div class="stat-label">–ü–æ—Ä–∞–∂–µ–Ω–∏—è</div>
            </div>
            <div class="stat-box">
                <div class="stat-number" id="team-stat-winrate">0%</div>
                <div class="stat-label">–í–∏–Ω—Ä–µ–π—Ç</div>
            </div>
        </div>

                <div class="team-section">
                    <h3 class="section-subtitle">–°–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã</h3>
                    <div class="team-roster" id="team-roster">
                    </div>
                </div>

                <div class="team-section">
                    <h3 class="section-subtitle">–ò—Å—Ç–æ—Ä–∏—è –º–∞—Ç—á–µ–π</h3>
                    <div class="team-match-history" id="team-match-history">
                    </div>
                </div>
            </div>
        </section>
        
		
		
		
		
         <!-- Screen: Team Edit -->
<section id="screen-team-edit" class="screen">
    <div class="container">
        <!-- –®–∞–ø–∫–∞ –ë–ï–ó –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
        <header class="edit-header">
            <button class="back-btn" onclick="teamEditModule.back()">
                <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
            </button>
            <h1 class="edit-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h1>
            <!-- –£–ë–†–ê–ù–û: –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —à–∞–ø–∫–µ -->
        </header>

        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–æ–º–∞–Ω–¥—ã -->
        <div class="team-preview-card">
            <div class="team-avatar-large" id="edit-team-avatar-preview">
                <img src="" alt="" class="hidden" id="preview-logo-img">
                <span id="preview-logo-emoji">üê≤</span>
                <button class="avatar-edit-btn" onclick="document.getElementById('team-logo-input-edit').click()">
                    <i class="fas fa-camera"></i>
                </button>
                <input type="file" id="team-logo-input-edit" accept="image/*" hidden onchange="teamEditModule.handleLogoChange(event)">
            </div>
            
            <div class="team-info-edit">
                <div class="form-group modern" style="margin-bottom: 8px;">
                    <label style="font-size: 0.75rem; color: var(--accent-green); margin-bottom: 6px; display: block; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã</label>
                    <input type="text" id="edit-team-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" maxlength="30" style="width: 100%; background: rgba(0,0,0,0.3); border: 2px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 12px 14px; color: var(--text-primary); font-size: 1.1rem; font-weight: 600;">
                </div>
                
                <div class="team-meta-chips">
                    <span class="meta-chip" id="edit-team-sport-chip">
                        <i class="fas fa-futbol"></i> <span>–§—É—Ç–±–æ–ª</span>
                    </span>
                    <span class="meta-chip" id="edit-team-city-chip">
                        <i class="fas fa-map-marker-alt"></i> <span>–ú–æ—Å–∫–≤–∞</span>
                    </span>
                </div>
            </div>
        </div>

        <!-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Å–º–µ–Ω–µ –Ω–∞–∑–≤–∞–Ω–∏—è -->
        <div class="name-change-alert" id="name-change-alert" style="display: none;">
            <i class="fas fa-info-circle"></i>
            <div class="alert-content">
                <div class="alert-title">–°–º–µ–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è</div>
                <div class="alert-text" id="name-change-text">–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è —Å–º–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ä–∞–∑ –≤ –≥–æ–¥</div>
            </div>
            <button class="alert-action" id="name-change-action" onclick="teamEditModule.handleNameChange()">
                –ò–∑–º–µ–Ω–∏—Ç—å
            </button>
        </div>

        <!-- –¢–∞–±—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
        <div class="edit-tabs">
            <button class="edit-tab active" data-tab="roster" onclick="teamEditModule.switchTab('roster')">
                <i class="fas fa-users"></i> –°–æ—Å—Ç–∞–≤ <span class="badge" id="players-count">0</span>
            </button>
            <button class="edit-tab" data-tab="settings" onclick="teamEditModule.switchTab('settings')">
                <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
        </div>

        <div class="tab-content active" id="tab-roster">
    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–æ–º -->
    <div class="roster-header">
        <h3 class="section-label">–ò–≥—Ä–æ–∫–∏</h3>
        <div class="roster-actions">
            <button class="icon-action-btn" onclick="teamEditModule.toggleSortMode()" title="–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å">
                <i class="fas fa-sort"></i>
            </button>
        </div>
    </div>

    <!-- –§–û–†–ú–ê –î–û–ë–ê–í–õ–ï–ù–ò–Ø –ò–ì–†–û–ö–ê -->
    <div class="add-player-section" style="margin-bottom: 25px;">
        <h4 style="margin-bottom: 15px; font-size: 1rem; color: var(--accent-green);">
            <i class="fas fa-user-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞
        </h4>
        
        <div class="nickname-input-container" style="margin-bottom: 10px;">
            <input type="text" 
                   id="add-player-nickname" 
                   placeholder="@–Ω–∏–∫–Ω–µ–π–º"
                   class="nickname-input"
                   oninput="teamEditModule.checkNickname(this.value)"
                   style="width: 100%; padding: 12px 15px; border: 2px solid var(--border); border-radius: 12px; background: var(--bg-card); color: var(--text-primary); font-size: 1rem;">
            <div id="nickname-status" class="status-message" style="margin-top: 8px; font-size: 0.85rem;"></div>
        </div>
        
        <div class="player-type-buttons" style="display: flex; gap: 10px; margin-top: 15px;">
            <button id="btn-add-unlinked" 
                    class="btn-secondary" 
                    onclick="teamEditModule.addUnlinkedPlayer()"
                    disabled
                    style="flex: 1; padding: 12px; border-radius: 10px; background: var(--bg-secondary); border: 1px solid var(--border); color: var(--text-secondary); font-weight: 600; opacity: 0.5;">
                <i class="fas fa-user-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏
            </button>
            <button id="btn-invite" 
                    class="btn-primary" 
                    onclick="teamEditModule.invitePlayer()"
                    disabled
                    style="flex: 1; padding: 12px; border-radius: 10px; background: var(--bg-secondary); border: 1px solid var(--border); color: var(--text-secondary); font-weight: 600; opacity: 0.5;">
                <i class="fas fa-paper-plane"></i> –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å
            </button>
        </div>
    </div>

    <div class="roster-list" id="edit-roster-list"></div>

    <div class="empty-roster hidden" id="empty-roster-state">
        <div class="empty-icon">
            <i class="fas fa-user-plus"></i>
        </div>
        <div class="empty-title">–°–æ—Å—Ç–∞–≤ –ø—É—Å—Ç</div>
        <div class="empty-text">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å</div>
        <button class="btn btn-primary" onclick="teamEditModule.showAddPlayerForm()" style="margin-top: 15px;">
            –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞
        </button>
    </div>
</div>

        <div class="tab-content" id="tab-settings">
            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–∞–Ω–¥—ã -->
            <div class="settings-section">
                <h3 class="section-label">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–µ</h3>
                
                <div class="form-group modern">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã</label>
                    <textarea id="edit-team-description" rows="4" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –∫–æ–º–∞–Ω–¥–µ, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö, —Å—Ç–∏–ª–µ –∏–≥—Ä—ã..."></textarea>
                    <div class="char-counter" id="desc-counter-edit">0/500</div>
                </div>

                <div class="form-group modern">
                    <label>–ö–æ–Ω—Ç–∞–∫—Ç—ã</label>
                    <input type="text" id="edit-team-contacts" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ Telegram –¥–ª—è —Å–≤—è–∑–∏">
                </div>
            </div>

            <div class="settings-section danger-zone">
                <h3 class="section-label danger">–û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞</h3>
                
                <button class="danger-btn" onclick="teamEditModule.deleteTeam()">
                    <i class="fas fa-trash-alt"></i>
                    <div>
                        <div class="danger-title">–£–¥–∞–ª–∏—Ç—å –∫–æ–º–∞–Ω–¥—É</div>
                        <div class="danger-subtitle">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ</div>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
 <!-- –î–û–ë–ê–í–õ–ï–ù–ê: –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –í–ù–ò–ó–£ (–ø–æ—Å–ª–µ —Ç–∞–±–æ–≤) -->
        <div class="edit-footer">
            <button class="btn btn-primary btn-save-bottom" onclick="teamEditModule.saveAllChanges()">
                <i class="fas fa-check"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
            </button>
        </div>
    </div>
	
</section>

        <!-- Screen: Edit Player -->
<section id="screen-edit-player" class="screen">
    <div class="container">
        <!-- –®–∞–ø–∫–∞ –ë–ï–ó –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
        <header class="edit-player-header">
            <button class="back-btn" onclick="teamEditModule.hidePlayerScreen()">
                <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
            </button>
            <h1 class="edit-player-title" id="player-screen-title">–ù–æ–≤—ã–π –∏–≥—Ä–æ–∫</h1>
            <!-- –£–ë–†–ê–ù–û: –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —à–∞–ø–∫–µ -->
        </header>
        <!-- –§–æ—Ç–æ –∏–≥—Ä–æ–∫–∞ -->
        <div class="player-photo-edit-section">
            <div class="player-photo-edit-container" onclick="document.getElementById('player-photo-input-screen').click()">
                <img src="" alt="" class="hidden" id="player-screen-photo-img">
                <div class="player-photo-placeholder" id="player-screen-photo-placeholder">
                    <i class="fas fa-user"></i>
                    <span>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ</span>
                </div>
                <div class="photo-edit-overlay">
                    <i class="fas fa-camera"></i>
                    <span>–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ç–æ</span>
                </div>
            </div>
            <input type="file" id="player-photo-input-screen" accept="image/*" hidden onchange="teamEditModule.handlePhotoUploadScreen(event)">
        </div>

        <!-- –§–æ—Ä–º–∞ -->
        <div class="player-edit-form">
            <div class="form-section">
                <div class="form-group modern">
                    <label>–§–ò–û –∏–≥—Ä–æ–∫–∞ *</label>
                    <input type="text" id="player-screen-name" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω" required>
                </div>

                <div class="form-row two-cols">
                    <div class="form-group modern">
                        <label>–ù–æ–º–µ—Ä *</label>
                        <input type="number" id="player-screen-number" placeholder="10" min="1" max="99" required>
                    </div>
                    
                    <div class="form-group modern">
                        <label>–ü–æ–∑–∏—Ü–∏—è</label>
                        <input type="text" id="player-screen-role" placeholder="–ù–∞–ø–∞–¥–∞—é—â–∏–π">
                    </div>
                </div>

                <div class="form-group modern">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ / –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</label>
                    <textarea id="player-screen-info" rows="3" placeholder="–†–æ—Å—Ç, –≤–æ–∑—Ä–∞—Å—Ç, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è..."></textarea>
                </div>

                <div class="form-group checkbox-modern">
                    <label class="checkbox-label-large">
                        <input type="checkbox" id="player-screen-captain">
                        <span class="checkbox-custom">
                            <i class="fas fa-check"></i>
                        </span>
                        <div class="checkbox-text-block">
                            <span class="checkbox-title">–ö–∞–ø–∏—Ç–∞–Ω –∫–æ–º–∞–Ω–¥—ã</span>
                            <span class="checkbox-subtitle">–ü–æ–º–µ—Ç–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –∫–∞–∫ –∫–∞–ø–∏—Ç–∞–Ω–∞</span>
                        </div>
                    </label>
                </div>
            </div>
        </div>
<!-- –î–û–ë–ê–í–õ–ï–ù–ê: –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –í–ù–ò–ó–£ -->
        <div class="player-footer">
            <button class="btn btn-primary btn-save-player" onclick="teamEditModule.savePlayerFromScreen()">
                <i class="fas fa-check"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
            </button>
        <!-- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏) -->
        <button class="delete-player-screen-btn hidden" id="delete-player-screen-btn" onclick="teamEditModule.deletePlayerFromScreen()">
            <i class="fas fa-trash-alt"></i>
            <span>–£–¥–∞–ª–∏—Ç—å –∏–≥—Ä–æ–∫–∞</span>
        </button>
    </div>
</section>
        
		<!-- Screen: Match Edit -->
<section id="screen-match-edit" class="screen">
    <div class="container">
        <button class="back-btn" onclick="matchEditModule.back()">
            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
        </button>

        <h2 class="section-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç—á–µ–º</h2>

        <!-- –®–∞–ø–∫–∞: –ö–æ–º–∞–Ω–¥—ã –∏ —Å—Ç–∞—Ç—É—Å -->
        <div class="form-section" style="text-align: center; padding: 20px;">
            <span class="match-status" id="edit-match-status-badge" style="font-size: 0.9rem; padding: 8px 16px;">
                –ó–ê–ì–†–£–ó–ö–ê...
            </span>
            
            <div style="display: flex; justify-content: center; align-items: center; gap: 20px; margin: 25px 0;">
                <div style="text-align: center;">
                    <div class="team-avatar" id="edit-match-team1-avatar" style="width: 60px; height: 60px; font-size: 2rem; margin: 0 auto 8px;">‚öΩ</div>
                    <div id="edit-match-team1-name" style="font-weight: 700; font-size: 0.9rem;">–ö–æ–º–∞–Ω–¥–∞ 1</div>
                </div>
                
                <div style="font-size: 1.8rem; color: var(--accent-pink); font-family: var(--font-display);">VS</div>
                
                <div style="text-align: center;">
                    <div class="team-avatar" id="edit-match-team2-avatar" style="width: 60px; height: 60px; font-size: 2rem; margin: 0 auto 8px;">‚öΩ</div>
                    <div id="edit-match-team2-name" style="font-weight: 700; font-size: 0.9rem;">–ö–æ–º–∞–Ω–¥–∞ 2</div>
                </div>
            </div>
            
            <span class="sport-badge" id="edit-match-sport">
                <i class="fas fa-futbol"></i> –§–£–¢–ë–û–õ
            </span>
        </div>

        <!-- –°—á–µ—Ç -->
        <div class="form-section" id="score-section">
            <h3 class="form-title" style="text-align: center; margin-bottom: 20px;">
                <i class="fas fa-trophy"></i> –°—á–µ—Ç
            </h3>
            
            <div style="display: flex; justify-content: center; align-items: center; gap: 20px; margin-bottom: 15px;">
                <div style="display: flex; flex-direction: column; gap: 10px; align-items: center;">
                    <button class="score-btn" onclick="matchEditModule.adjustScore(1, 1)" style="width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--accent-green); background: transparent; color: var(--accent-green); font-size: 1.2rem;">+</button>
                    <input type="number" id="edit-match-score1" value="0" min="0" max="99" style="width: 70px; height: 70px; font-size: 2rem; text-align: center; border-radius: 15px; border: 3px solid var(--accent-green); background: var(--bg-card); color: var(--text-primary); font-weight: 700;">
                    <button class="score-btn" onclick="matchEditModule.adjustScore(-1, 1)" style="width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--accent-pink); background: transparent; color: var(--accent-pink); font-size: 1.2rem;">-</button>
                </div>
                
                <div style="font-size: 1.5rem; color: var(--text-secondary);">:</div>
                
                <div style="display: flex; flex-direction: column; gap: 10px; align-items: center;">
                    <button class="score-btn" onclick="matchEditModule.adjustScore(1, 2)" style="width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--accent-green); background: transparent; color: var(--accent-green); font-size: 1.2rem;">+</button>
                    <input type="number" id="edit-match-score2" value="0" min="0" max="99" style="width: 70px; height: 70px; font-size: 2rem; text-align: center; border-radius: 15px; border: 3px solid var(--accent-green); background: var(--bg-card); color: var(--text-primary); font-weight: 700;">
                    <button class="score-btn" onclick="matchEditModule.adjustScore(-1, 2)" style="width: 45px; height: 45px; border-radius: 50%; border: 2px solid var(--accent-pink); background: transparent; color: var(--accent-pink); font-size: 1.2rem;">-</button>
                </div>
            </div>
            
            <div id="score-status-message" style="text-align: center; color: var(--text-secondary); font-size: 0.85rem; font-style: italic;"></div>
        </div>
        
        <!-- –¢–∞–π–º–µ—Ä –º–∞—Ç—á–∞ -->
        <div class="form-section" id="match-timer-section">
            <div id="match-timer" style="text-align: center;"></div>
        </div>
        
        <!-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è -->
        <div id="edit-match-warnings" class="warnings-container hidden" style="margin-bottom: 15px; background: rgba(255,193,7,0.1); border: 1px solid rgba(255,193,7,0.3); border-radius: 10px; padding: 12px; color: #ffc107; font-size: 0.9rem;"></div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Ç—á–µ -->
        <div class="form-section" id="match-info-section">
            <h3 class="form-title"><i class="fas fa-info-circle"></i> –î–µ—Ç–∞–ª–∏</h3>
            
            <div class="form-group">
                <label>–§–æ—Ä–º–∞—Ç</label>
                <select id="edit-match-format" class="form-control" disabled style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); background: var(--bg-card); color: var(--text-primary);">
                    <option value="2x2">2 –Ω–∞ 2</option>
                    <option value="3x3">3 –Ω–∞ 3</option>
                    <option value="4x4">4 –Ω–∞ 4</option>
                    <option value="5x5">5 –Ω–∞ 5</option>
                    <option value="7x7">7 –Ω–∞ 7</option>
                    <option value="11x11">11 –Ω–∞ 11</option>
                </select>
            </div>

            <div class="form-group">
                <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
                <input type="datetime-local" id="edit-match-datetime" class="form-control" disabled style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); background: var(--bg-card); color: var(--text-primary);">
            </div>

            <div class="form-group">
                <label>–ú–µ—Å—Ç–æ</label>
                <div style="display: flex; gap: 8px;">
                    <input type="text" id="edit-match-location" class="form-control" disabled style="flex: 1; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); background: var(--bg-card); color: var(--text-primary);">
                    <button type="button" class="btn btn-secondary" id="edit-match-location-btn" onclick="matchEditModule.openMapForLocation()" style="display: none; padding: 10px 15px;">
                        <i class="fas fa-map-marker-alt"></i>
                    </button>
                </div>
            </div>

            <input type="hidden" id="edit-match-lat">
            <input type="hidden" id="edit-match-lng">
        </div>

        <!-- –î–µ–π—Å—Ç–≤–∏—è -->
        <div class="form-section" style="background: rgba(0,255,136,0.05); border: 1px solid rgba(0,255,136,0.2);">
            <h3 class="form-title" style="text-align: center;"><i class="fas fa-sliders-h"></i> –î–µ–π—Å—Ç–≤–∏—è</h3>
            <div id="match-status-controls" style="display: flex; flex-direction: column; gap: 10px;">
                <!-- JS –≤—Å—Ç–∞–≤–∏—Ç –∫–Ω–æ–ø–∫–∏ -->
            </div>
        </div>
    </div>
</section>

<section id="screen-match-roster" class="screen">
    <div class="container">
        <button class="back-btn" onclick="matchRosterModule.back()">
            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
        </button>
        
        <div id="match-roster-content">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è JavaScript -->
        </div>
    </div>
</section>


<!-- Screen: Match Player Stats -->
<section id="screen-match-player-stats" class="screen">
    <div class="container">
        <button class="back-btn" onclick="matchEditModule.back()">
            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
        </button>
        <div id="match-player-stats-content">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>
</section>



         <!-- Screen: User Profile (–ø—Ä–æ—Å–º–æ—Ç—Ä —á—É–∂–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è) -->
<section id="screen-user-profile" class="screen">
    <div class="container">
        <button class="back-btn" onclick="profileModule.closeUserProfile()">
            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
        </button>

        <!-- –®–∞–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
        <div class="profile-header-modern">
            <div class="profile-avatar-section">
                <div class="profile-avatar-large" id="view-profile-avatar">
                    <img id="view-profile-avatar-img" class="hidden" src="" alt="–ê–≤–∞—Ç–∞—Ä">
                    <span id="view-profile-avatar-text">U</span>
                </div>
                <div class="profile-info-main">
                    <h1 id="view-profile-name" class="profile-name-modern">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
                    <div class="profile-meta">
                        <span id="view-profile-role" class="profile-role-modern"></span>
                        <span id="view-profile-city"><i class="fas fa-map-marker-alt"></i> </span>
                    </div>
                    <div class="profile-stats">
                        <div class="stat-item">
                            <span class="stat-number" id="view-profile-matches">0</span>
                            <span class="stat-label">–ú–∞—Ç—á–µ–π</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="view-profile-teams">0</span>
                            <span class="stat-label">–ö–æ–º–∞–Ω–¥</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–±–µ–π–¥–∂–∏) -->
        <div class="profile-about-section">
            <div class="about-badges" id="view-about-badges"></div>
            <div class="about-socials" id="view-about-socials"></div>
            <div class="about-bio" id="view-profile-bio">
                <p class="bio-text" id="view-profile-bio-text"></p>
            </div>
        </div>

        <!-- –ö–æ–º–∞–Ω–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div class="card-section" id="view-user-teams-card">
            <h3 class="card-title">
                <i class="fas fa-users"></i>
                –ö–æ–º–∞–Ω–¥—ã
            </h3>
            <div id="view-user-teams-list" class="teams-scroll"></div>
        </div>
    </div>
</section>
		
    </main>

   <nav id="bottom-nav" class="bottom-nav hidden">
    <button type="button" class="nav-item" data-screen="main" onclick="app.showMain()">
        <i class="fas fa-calendar-alt"></i>
        <span>–ú–∞—Ç—á–∏</span>
    </button>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –ö–æ–º–∞–Ω–¥—ã - —Ç–æ–ª—å–∫–æ –¥–ª—è PRO -->
    <button type="button" class="nav-item" id="nav-teams-btn" data-screen="teams" onclick="app.showTeams()">
        <i class="fas fa-users"></i>
        <span>–ö–æ–º–∞–Ω–¥—ã</span>
    </button>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –°–æ–∑–¥–∞—Ç—å - —Ç–æ–ª—å–∫–æ –¥–ª—è PRO -->
    <button type="button" class="nav-item nav-item-create" id="nav-create-btn" data-screen="create" onclick="app.showCreateMatch()">
        <i class="fas fa-plus"></i>
        <span>–°–æ–∑–¥–∞—Ç—å</span>
    </button>
    
    <button type="button" class="nav-item" data-screen="hub" onclick="app.showHub()">
        <i class="fas fa-compass"></i>
        <span>–•–∞–±</span>
    </button>
    
    <button type="button" class="nav-item" data-screen="profile" onclick="app.showProfile()">
        <i class="fas fa-user"></i>
        <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
    </button>
</nav>
	<!-- –í –∫–æ–Ω—Ü–µ body, –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º —Ç–µ–≥–æ–º -->
	<script src="./js/supabase-client.js"></script>
	<script src="./js/screens.js"></script>
	<script src="./js/utils.js"></script>
	<script src="./js/data.js"></script>

	<!-- –ú–æ–¥—É–ª–∏ -->
	<script src="./js/auth.js"></script>
	<script src="./js/app-modules/init.js"></script>
	<script src="./js/app-modules/navigation.js"></script>
	<script src="./js/app-modules/matches.js"></script>
	<script src="./js/app-modules/teams.js"></script>
	<script src="./js/app-modules/events.js"></script>
	<script src="./js/app-modules/comments.js"></script>
	<script src="./js/app-modules/map.js"></script>
	<script src="./js/app-modules/elo.js"></script>
	<script src="./js/match-roster.js"></script>
	<script src="./js/profile.js"></script>
	<script src="./js/stat-config.js"></script>
	<script src="./js/match-wizard.js"></script>

	<!-- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã -->
	<script src="./js/team.js"></script>
	<script src="./js/team-edit.js"></script>
	<script src="./js/match-edit.js"></script>

	<!-- –ì–ª–∞–≤–Ω—ã–π app.js –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ -->
	<script src="./js/app.js"></script>
	
	
	<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–∞ –∫–∞—Ä—Ç–µ -->
	<div id="location-picker-modal" class="modal-overlay hidden">
    <div class="modal-content" style="width: 95%; max-width: 600px; padding: 0; border-radius: 20px; overflow: hidden; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º -->
        <div style="background: linear-gradient(135deg, var(--accent-green), var(--accent-blue)); padding: 20px 24px;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <div>
                    <h3 class="modal-title" style="font-size: 1.2rem; margin: 0; color: #000; font-weight: 700;">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –∫–∞—Ä—Ç–µ</h3>
                    
                </div>
                <button class="close-btn" onclick="app.closeLocationPicker()" 
                        style="background: rgba(0, 0, 0, 0.2); color: #000; border: none; width: 36px; height: 36px; border-radius: 50%;">
                    &times;
                </button>
            </div>
        </div>

        <div style="background: var(--bg-card);">
            <!-- –ö–∞—Ä—Ç–∞ -->
            <div id="location-map" class="map-container" 
                 style="height: 250px; margin: 0; border: none; border-bottom: 1px solid var(--border-color); border-radius: 0;"></div>
            
            <!-- –§–æ—Ä–º–∞ –ø–æ–¥ –∫–∞—Ä—Ç–æ–π -->
<div style="padding: 24px;">
    
    
    <div class="form-group" style="margin-bottom: 20px;">
        <label style="font-size: 0.9rem; margin-bottom: 8px; display: block; color: var(--text-secondary); font-weight: 500;">
            <i class="fas fa-tag" style="margin-right: 8px; color: var(--accent-blue);"></i>
            –ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞
        </label>
        <input type="text" id="location-name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°—Ç–∞–¥–∏–æ–Ω '–ë–µ–ª–∫–∏–Ω–æ'" 
               class="modal-input">
    </div>
    
    <div class="form-group" style="margin-bottom: 20px;">
        <label style="font-size: 0.9rem; margin-bottom: 8px; display: block; color: var(--text-secondary); font-weight: 500;">
            <i class="fas fa-road" style="margin-right: 8px; color: var(--accent-blue);"></i>
            –ê–¥—Ä–µ—Å
        </label>
        <textarea id="location-address" rows="2" placeholder="–£–ª–∏—Ü–∞, –¥–æ–º, —Ä–∞–π–æ–Ω..." 
                  class="modal-textarea"></textarea>
    </div>
    
    <div style="display: flex; gap: 12px; margin-top: 28px;">
        <button class="btn btn-primary" onclick="app.confirmLocation()" 
                style="flex: 1; padding: 14px; font-size: 1rem; border-radius: 12px; background: linear-gradient(135deg, var(--accent-green), #00cc6a); color: #000; border: none; font-weight: 700; box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);">
            <i class="fas fa-check-circle" style="margin-right: 8px;"></i>–í—ã–±—Ä–∞—Ç—å –º–µ—Å—Ç–æ
        </button>
        <button class="btn btn-secondary" onclick="app.closeLocationPicker()" 
                style="flex: 1; padding: 14px; font-size: 1rem; border-radius: 12px; background: transparent; border: 2px solid var(--border); color: var(--text-secondary); font-weight: 600;">
            <i class="fas fa-times" style="margin-right: 8px;"></i>–û—Ç–º–µ–Ω–∞
        </button>
    </div>
    
    <div style="margin-top: 20px; padding: 12px; background: rgba(0, 204, 255, 0.05); border-radius: 10px; text-align: center;">
        <p style="color: var(--text-secondary); font-size: 0.8rem; margin: 0; line-height: 1.4;">
            <i class="fas fa-lightbulb" style="color: var(--accent-blue); margin-right: 6px;"></i>
            –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –º–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –º–∞—Ç—á–∞
        </p>
    </div>
</div>
        </div>
    </div>
</div>
	
</body>
</html>